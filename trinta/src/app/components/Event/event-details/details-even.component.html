<mat-card
  class="trinta-card event-details-card mb-25 bg-white border-none d-block"
>
  <mat-card-header>
    <mat-card-title>
      <h4 class="fw-bold">
        {{ eventDetails?.title }}
      </h4>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="row">
      <div class="content">

        <p class="text-black">
          {{ eventDetails?.description }}
        </p>

        <div class="row">
          <div class="col-xxxl-2 col-sm-6 col-md-4">
            <mat-card class="trinta-card pm-stat-card mb-25 bg-white border-none d-block text-center">
              <mat-card-content>
                <div class="icon d-flex align-items-center justify-content-center ml-auto mr-auto">
                  <i-feather name="briefcase"></i-feather> <!-- Updated icon -->
                </div>
                <span class="d-block text-gray">
          Name
        </span>
                <strong>{{ eventDetails?.user.fullName }}</strong>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="col-xxxl-2 col-sm-6 col-md-4">
            <mat-card class="trinta-card pm-stat-card mb-25 bg-white border-none d-block text-center">
              <mat-card-content>
                <div class="icon d-flex align-items-center justify-content-center ml-auto mr-auto">
                  <i-feather name="calendar"></i-feather> <!-- Updated icon -->
                </div>
                <span class="d-block text-gray">
          Deadline
        </span>
                <strong>{{ eventDetails?.deadline | date }}</strong>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="col-xxxl-2 col-sm-6 col-md-4">
            <mat-card class="trinta-card pm-stat-card mb-25 bg-white border-none d-block text-center">
              <mat-card-content>
                <div class="icon d-flex align-items-center justify-content-center ml-auto mr-auto">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                       class="main-grid-item-icon" fill="none" stroke="white" stroke-linecap="round"
                       stroke-linejoin="round" stroke-width="2">
                    <rect height="18" rx="2" ry="2" width="18" x="3" y="3"/>
                    <circle cx="8.5" cy="8.5" r="1.5"/>
                    <polyline points="21 15 16 10 5 21"/>
                  </svg>
                </div>


                <span class="d-block text-gray">
           Requested Images
        </span>
                <strong>{{ eventDetails?.numberOfPhotos }} , {{ eventDetails?.max_photos_per_worker }} per
                  worker</strong>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="col-xxxl-2 col-sm-6 col-md-4">
            <mat-card class="trinta-card pm-stat-card mb-25 bg-white border-none d-block text-center">
              <mat-card-content>
                <div class="icon d-flex align-items-center justify-content-center ml-auto mr-auto">
                  <i-feather name="dollar-sign"></i-feather> <!-- Updated icon -->
                </div>
                <span class="d-block text-gray">
          Reward
        </span>
                <strong>{{ eventDetails?.cost }} $</strong>
              </mat-card-content>
            </mat-card>
          </div>


          <div *ngIf="!isPatient()" class="col-xxxl-2 col-sm-6 col-md-4">
            <mat-card class="trinta-card pm-stat-card mb-25 bg-white border-none d-block text-center">
              <mat-card-content>
                <div class="icon d-flex align-items-center justify-content-center ml-auto mr-auto">
                  <i-feather name="users"></i-feather> <!-- Updated icon -->
                </div>
                <span class="d-block text-gray">
           Workers
        </span>
                <strong>{{ eventDetails?.joined_workers?.length }}</strong>
              </mat-card-content>
            </mat-card>
          </div>
          <div *ngIf="!isPatient()" class="col-xxxl-2 col-sm-6 col-md-4">
            <mat-card class="trinta-card pm-stat-card mb-25 bg-white border-none d-block text-center">
              <mat-card-content>
                <div class="icon d-flex align-items-center justify-content-center ml-auto mr-auto">
                  <i-feather name="file-text"></i-feather> <!-- Updated icon -->
                </div>
                <span class="d-block text-gray">
          Submissions
        </span>
                <strong>{{ eventDetails?.submissions_count }}</strong>
              </mat-card-content>
            </mat-card>
          </div>
        </div>

        <div class="alert alert-warning " role="alert">
          <strong>Note:</strong> The coverage area is <b>{{ eventDetails?.CoverageArea }}</b> meters, which is the
          distance that should be respected from the indicated location while taking the photos. Any images taken
          outside this area will be rejected.
        </div>
      
      </div>
    </div>


  </mat-card-content>

</mat-card>
<mat-card
  class="trinta-card event-details-image-card mb-25 bg-white border-none d-block"
  style="width: 100%;"
>
  <mat-card-content style="padding: 0;">
    <mat-card class="trinta-card bg-white border-none d-block" style="width: 100%;">
      <mat-card-header>
        <mat-card-title style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
          <h5 class="mt-0 mb-0">
            Event Location
          </h5>
          <div class="map d-flex align-items-center justify-content-center">
            <i class="ri-map-pin-2-line"></i>
          </div>
        </mat-card-title>
      </mat-card-header>

      <mat-card-content style="padding: 0;">
        <!-- Display the Address -->
        <p *ngIf="address">{{ address }}</p>

        <!-- Display the Map -->
        <!--        <iframe-->
        <!--          [src]="sanitizer.bypassSecurityTrustResourceUrl('https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31410.567528112245!2d' + longitude + '!3d' + latitude + '!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2z' + latitude + '%2C' + longitude + '!5e0!3m2!1sen!2sus!4vYOUR_TIMESTAMP')"-->
        <!--          allowfullscreen-->
        <!--          loading="lazy"-->
        <!--          referrerpolicy="no-referrer-when-downgrade"-->
        <!--          style="width: 100%; height: 400px; border: 0;">-->
        <!--        </iframe>-->
        <iframe
          [src]="sanitizer.bypassSecurityTrustResourceUrl('https://www.google.com/maps?q=loc:' + latitude + ',' + longitude + '&z=14&output=embed')"
          allowfullscreen
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          style="width: 100%; height: 400px; border: 0;">
        </iframe>

      </mat-card-content>
    </mat-card>
  </mat-card-content>

  
</mat-card>



<!-- Existing Event Details Code Above -->

<div class="comment-section mt-4">
  <mat-form-field appearance="fill" class="w-100">
    <mat-label></mat-label>
    <textarea matInput [(ngModel)]="content" rows="3" placeholder="Type your comment here..."></textarea>
  </mat-form-field>
  <button mat-icon-button (click)="submitComment()">
    <i-feather name="send"></i-feather> <!-- Send icon -->
  </button>
</div>


<div class="comments-list mt-4">
  <h5>Comments</h5>
  
  <mat-card *ngFor="let comment of comments" class="mb-2">
    <mat-card-content>
      <p>{{ comment.content }}</p>
      <p class="text-muted"><small>Sentiment: {{ comment.sentiment }}</small></p>
      <p class="text-muted"><small>Posted on: {{ comment.created_at | date }}</small></p>
    </mat-card-content>
  </mat-card>
</div>