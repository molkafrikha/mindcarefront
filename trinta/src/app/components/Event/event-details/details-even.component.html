<mat-card
  class="trinta-card event-details-card mb-25 bg-white border-none d-block"
>
  <mat-card-header>
    <mat-card-title>
      <h4 class="fw-bold">
        {{ eventDetails?.title }}
      </h4>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="row">
      <div class="content">
        <p class="text-black">
          {{ eventDetails?.description }}
        </p>

        <div class="row">
          

          <div class="col-xxxl-2 col-sm-6 col-md-4">
            <mat-card class="trinta-card pm-stat-card mb-25 bg-white border-none d-block text-center">
              <mat-card-content>
                <div class="icon d-flex align-items-center justify-content-center ml-auto mr-auto">
                  <i-feather name="calendar"></i-feather>
                </div>
                <span class="d-block text-gray">Start Date</span>
                <strong>{{ eventDetails?.startdate | date:'short' }}</strong>
              </mat-card-content>
            </mat-card>
          </div>

          <div class="col-xxxl-2 col-sm-6 col-md-4">
            <mat-card class="trinta-card pm-stat-card mb-25 bg-white border-none d-block text-center">
              <mat-card-content>
                <div class="icon d-flex align-items-center justify-content-center ml-auto mr-auto">
                  <i-feather name="calendar"></i-feather>
                </div>
                <span class="d-block text-gray">Deadline</span>
                <strong>{{ eventDetails?.deadline | date:'short' }}</strong>
              </mat-card-content>
            </mat-card>
          </div>

          <div class="col-xxxl-2 col-sm-6 col-md-4">
            <mat-card class="trinta-card pm-stat-card mb-25 bg-white border-none d-block text-center">
              <mat-card-content>
                <div class="icon d-flex align-items-center justify-content-center ml-auto mr-auto">
                  <i-feather name="dollar-sign"></i-feather>
                </div>
                <span class="d-block text-gray">Cost</span>
                <strong>{{ eventDetails?.cost | currency }}</strong>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </div>
    </div>
  </mat-card-content>
</mat-card>

<mat-card
  class="trinta-card event-details-image-card mb-25 bg-white border-none d-block"
  style="width: 100%;"
>
  <mat-card-content style="padding: 0;">
    <mat-card class="trinta-card bg-white border-none d-block" style="width: 100%;">
      <mat-card-header>
        <mat-card-title style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
          <h5 class="mt-0 mb-0">
            Event Location
          </h5>
          <div class="map d-flex align-items-center justify-content-center">
            <i class="ri-map-pin-2-line"></i>
          </div>
        </mat-card-title>
      </mat-card-header>

      <mat-card-content style="padding: 0;">
        <!-- Display the Address -->
        <p *ngIf="address">{{ address }}</p>

        <iframe
          [src]="sanitizer.bypassSecurityTrustResourceUrl('https://www.google.com/maps?q=loc:' + latitude + ',' + longitude + '&z=14&output=embed')"
          allowfullscreen
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          style="width: 100%; height: 400px; border: 0;">
        </iframe>
      </mat-card-content>
    </mat-card>
  </mat-card-content>
</mat-card>

<div class="comments-list mt-4">
  <h5>Comments</h5>
  
  <mat-card *ngFor="let comment of comments" class="mb-2">
    <mat-card-content>
      <p>{{ comment.content }}</p>
      <p>{{ getSentimentEmoji(comment.sentiment) }} {{ comment.sentiment }}</p>
      <p>Posted on: {{ comment.created_at | date }}</p>
    </mat-card-content>
  </mat-card>
</div>

<!-- Existing Event Details Code Above -->

<div class="comment-section mt-4" *ngIf="isPatient()">
  <mat-form-field appearance="fill" class="w-100">
    <mat-label></mat-label>
    <textarea matInput [(ngModel)]="content" rows="3" placeholder="Type your comment here..."></textarea>
  </mat-form-field>
  <button mat-icon-button (click)="submitComment()">
    <i-feather name="send"></i-feather> <!-- Send icon -->
  </button>
</div>
