{
  "version": 3,
  "sources": ["../../../../../node_modules/@capacitor/device/dist/esm/web.js"],
  "sourcesContent": ["import { WebPlugin } from '@capacitor/core';\r\nexport class DeviceWeb extends WebPlugin {\r\n    async getId() {\r\n        return {\r\n            identifier: this.getUid(),\r\n        };\r\n    }\r\n    async getInfo() {\r\n        if (typeof navigator === 'undefined' || !navigator.userAgent) {\r\n            throw this.unavailable('Device API not available in this browser');\r\n        }\r\n        const ua = navigator.userAgent;\r\n        const uaFields = this.parseUa(ua);\r\n        return {\r\n            model: uaFields.model,\r\n            platform: 'web',\r\n            operatingSystem: uaFields.operatingSystem,\r\n            osVersion: uaFields.osVersion,\r\n            manufacturer: navigator.vendor,\r\n            isVirtual: false,\r\n            webViewVersion: uaFields.browserVersion,\r\n        };\r\n    }\r\n    async getBatteryInfo() {\r\n        if (typeof navigator === 'undefined' || !navigator.getBattery) {\r\n            throw this.unavailable('Device API not available in this browser');\r\n        }\r\n        let battery = {};\r\n        try {\r\n            battery = await navigator.getBattery();\r\n        }\r\n        catch (e) {\r\n            // Let it fail, we don't care\r\n        }\r\n        return {\r\n            batteryLevel: battery.level,\r\n            isCharging: battery.charging,\r\n        };\r\n    }\r\n    async getLanguageCode() {\r\n        return {\r\n            value: navigator.language.split('-')[0].toLowerCase(),\r\n        };\r\n    }\r\n    async getLanguageTag() {\r\n        return {\r\n            value: navigator.language,\r\n        };\r\n    }\r\n    parseUa(ua) {\r\n        const uaFields = {};\r\n        const start = ua.indexOf('(') + 1;\r\n        let end = ua.indexOf(') AppleWebKit');\r\n        if (ua.indexOf(') Gecko') !== -1) {\r\n            end = ua.indexOf(') Gecko');\r\n        }\r\n        const fields = ua.substring(start, end);\r\n        if (ua.indexOf('Android') !== -1) {\r\n            const tmpFields = fields.replace('; wv', '').split('; ').pop();\r\n            if (tmpFields) {\r\n                uaFields.model = tmpFields.split(' Build')[0];\r\n            }\r\n            uaFields.osVersion = fields.split('; ')[1];\r\n        }\r\n        else {\r\n            uaFields.model = fields.split('; ')[0];\r\n            if (typeof navigator !== 'undefined' && navigator.oscpu) {\r\n                uaFields.osVersion = navigator.oscpu;\r\n            }\r\n            else {\r\n                if (ua.indexOf('Windows') !== -1) {\r\n                    uaFields.osVersion = fields;\r\n                }\r\n                else {\r\n                    const tmpFields = fields.split('; ').pop();\r\n                    if (tmpFields) {\r\n                        const lastParts = tmpFields\r\n                            .replace(' like Mac OS X', '')\r\n                            .split(' ');\r\n                        uaFields.osVersion = lastParts[lastParts.length - 1].replace(/_/g, '.');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (/android/i.test(ua)) {\r\n            uaFields.operatingSystem = 'android';\r\n        }\r\n        else if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) {\r\n            uaFields.operatingSystem = 'ios';\r\n        }\r\n        else if (/Win/.test(ua)) {\r\n            uaFields.operatingSystem = 'windows';\r\n        }\r\n        else if (/Mac/i.test(ua)) {\r\n            uaFields.operatingSystem = 'mac';\r\n        }\r\n        else {\r\n            uaFields.operatingSystem = 'unknown';\r\n        }\r\n        // Check for browsers based on non-standard javascript apis, only not user agent\r\n        const isSafari = !!window.ApplePaySession;\r\n        const isChrome = !!window.chrome;\r\n        const isFirefox = /Firefox/.test(ua);\r\n        const isEdge = /Edg/.test(ua);\r\n        const isFirefoxIOS = /FxiOS/.test(ua);\r\n        const isChromeIOS = /CriOS/.test(ua);\r\n        const isEdgeIOS = /EdgiOS/.test(ua);\r\n        // FF and Edge User Agents both end with \"/MAJOR.MINOR\"\r\n        if (isSafari ||\r\n            (isChrome && !isEdge) ||\r\n            isFirefoxIOS ||\r\n            isChromeIOS ||\r\n            isEdgeIOS) {\r\n            // Safari version comes as     \"... Version/MAJOR.MINOR ...\"\r\n            // Chrome version comes as     \"... Chrome/MAJOR.MINOR ...\"\r\n            // FirefoxIOS version comes as \"... FxiOS/MAJOR.MINOR ...\"\r\n            // ChromeIOS version comes as  \"... CriOS/MAJOR.MINOR ...\"\r\n            let searchWord;\r\n            if (isFirefoxIOS) {\r\n                searchWord = 'FxiOS';\r\n            }\r\n            else if (isChromeIOS) {\r\n                searchWord = 'CriOS';\r\n            }\r\n            else if (isEdgeIOS) {\r\n                searchWord = 'EdgiOS';\r\n            }\r\n            else if (isSafari) {\r\n                searchWord = 'Version';\r\n            }\r\n            else {\r\n                searchWord = 'Chrome';\r\n            }\r\n            const words = ua.split(' ');\r\n            for (const word of words) {\r\n                if (word.includes(searchWord)) {\r\n                    const version = word.split('/')[1];\r\n                    uaFields.browserVersion = version;\r\n                }\r\n            }\r\n        }\r\n        else if (isFirefox || isEdge) {\r\n            const reverseUA = ua.split('').reverse().join('');\r\n            const reverseVersion = reverseUA.split('/')[0];\r\n            const version = reverseVersion.split('').reverse().join('');\r\n            uaFields.browserVersion = version;\r\n        }\r\n        return uaFields;\r\n    }\r\n    getUid() {\r\n        if (typeof window !== 'undefined' && window.localStorage) {\r\n            let uid = window.localStorage.getItem('_capuid');\r\n            if (uid) {\r\n                return uid;\r\n            }\r\n            uid = this.uuid4();\r\n            window.localStorage.setItem('_capuid', uid);\r\n            return uid;\r\n        }\r\n        return this.uuid4();\r\n    }\r\n    uuid4() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            const r = (Math.random() * 16) | 0, v = c === 'x' ? r : (r & 0x3) | 0x8;\r\n            return v.toString(16);\r\n        });\r\n    }\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
